// This file was auto-generated by Fern from our API Definition.

import type * as phenoml from "../../../../index.js";

/**
 * @example
 *     {
 *         name: "CUSTOM_CODES",
 *         version: "1.0",
 *         format: "csv"
 *     }
 */
export interface UploadRequest {
    /**
     * Name of the code system. Names are case-insensitive and stored uppercase.
     * Builtin system names (e.g. ICD-10-CM, SNOMED_CT_US_LITE, LOINC, CPT, etc.) are
     * reserved and cannot be used for custom uploads; attempts return HTTP 403 Forbidden.
     */
    name: string;
    /** Version of the code system */
    version: string;
    /** Optional revision number */
    revision?: number;
    /** Upload format */
    format: UploadRequest.Format;
    /**
     * The file contents as a base64-encoded string.
     * For CSV format, this is the CSV file contents.
     * For JSON format, this is a base64-encoded JSON array; prefer using 'codes' instead.
     */
    file?: string;
    /** Column name containing codes (required for CSV format) */
    code_col?: string;
    /** Column name containing descriptions (required for CSV format) */
    desc_col?: string;
    /** Optional column name containing long definitions (for CSV format) */
    defn_col?: string;
    /**
     * The codes to upload as a JSON array (JSON format only).
     * This is the preferred way to upload JSON codes, as it avoids unnecessary base64 encoding.
     * If both 'codes' and 'file' are provided, 'codes' takes precedence.
     */
    codes?: phenoml.construe.CodeResponse[];
    /**
     * If true, replaces an existing code system with the same name and version.
     * Builtin systems cannot be replaced; attempts to do so return HTTP 403 Forbidden.
     * When false (default), uploading a duplicate returns 409 Conflict.
     */
    replace?: boolean;
}

export namespace UploadRequest {
    /** Upload format */
    export const Format = {
        Csv: "csv",
        Json: "json",
    } as const;
    export type Format = (typeof Format)[keyof typeof Format];
}
